<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input type="button" id='btn' value='点击触发事件'>
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.js"></script>
    <script type="text/javascript">
        axios.defaults.baseURL = 'http://localhost:3000/'

        function testGet() {
            // axios({
            //     method: 'GET' ,
            //     url: '/posts',
            //     params : {
            //         id : 2
            //     }
            // })
            axios.get('/posts', {
                    params: {
                        id: 2
                    }
                })
                .then((value) => {
                    console.log(value.data, value.status, value.statusText)
                }).catch(error => {
                    console.log(error.message)
                })
        }

        // function testPost() {
        //     //axios.defaults.baseURL = 'http://localhost:3000'
        //     // axios({
        //     //     method: 'post',
        //     //     url: '/posts',  
        //     //     data: {
        //     //         title: 'eee',
        //     //         author: 'fff'
        //     //     }
        //     // })
        //     axios.post('/posts', {
        //             title: 'qwertyu',
        //             author: 'zxcvnn'
        //         }, {})
        //         .then(
        //             value => {
        //                 console.log(value.data, value.status, value.statusText)
        //             },
        //             error => {
        //                 console.log(error.message)
        //             }
        //         )
        // }
        function testPost() {
            /* axios({ // 配置对象: 属性名是一些特定名称
            method: 'POST',
            url: '/posts',
            data: { // 指定请求体参数数据
            title: 'eee',
            author: 'fff'
            }
            }) */
            axios.post('/posts', {
                    title: 'ggg',
                    author: 'fff'
                }, {})
                .then(
                    response => {
                        console.log(response.data, response.status, response.statusText)
                    },
                    error => {
                        alert(error.message)
                    }
                )
        }

        function testPut() {
            //axios.defaults.baseURL = 'http://localhost:3000'
            // axios({
            // method: 'post',
            // url: '/posts',
            // data: {
            // title: 'eee',
            // author: 'fff'
            // }
            // })
            axios.put('/posts/1', {
                    title: '123123',
                    author: 'qwrwer'
                }, {})
                .then(
                    value => {
                        console.log(value.data, value.status, value.statusText)
                    },
                    error => {
                        console.log(error.message)
                    }
                )
        }

        function testDelete() {
            //axios.defaults.baseURL = 'http://localhost:3000'
            // axios({
            // method: 'post',
            // url: '/posts',
            // data: {
            // title: 'eee',
            // author: 'fff'
            // }
            // })
            axios.delete('/posts/3')
                .then(
                    value => {
                        console.log(value.data, value.status, value.statusText)
                    },
                    error => {
                        console.log(error.message)
                    }
                )
        }
        let btn = document.querySelector('#btn')
        btn.onclick = function () {
            testPost()
        }
    </script>
</body>

</html>